# Contributor: Fabian Affolter <fabian@affolter-engineering.ch>
# Maintainer: Fabian Affolter <fabian@affolter-engineering.ch>
pkgname=py3-pyisbn
_pkgreal=pyisbn
pkgver=1.2.1
pkgrel=0
pkgdesc="pyisbn - A module for working with 10- and 13-digit ISBNs"
replaces="py-isbn"
provides="py-isbn=$pkgver-r$pkgrel"
url="https://github.com/JNRowe/pyisbn"
arch="noarch"
license="GPL-3.0-or-later"
depends="python3"
checkdepends="py3-pytest"
makedepends="py3-setuptools"
source="https://files.pythonhosted.org/packages/source/${_pkgreal:0:1}/$_pkgreal/$_pkgreal-$pkgver.tar.gz"
builddir="$srcdir/$_pkgreal-$pkgver"

build() {
	python3 setup.py build
}

package() {
	PYTHONPATH=$pkgdir`python3 -c "import site; print(site.getsitepackages()[0])"` \
	python3 setup.py install \
		--prefix=/usr \
		--root="$pkgdir" \
		--single-version-externally-managed
}

check() {
	python3 setup.py test
}

sha512sums="4ba93722350803cde1bf969421864e27f4aaf562021e7a4400b182aa4c503ce4e33e5e328aabaef48071704d9533fc42cb95d69e4a5e817ea864149affe6ec85  pyisbn-1.2.1.tar.gz"
