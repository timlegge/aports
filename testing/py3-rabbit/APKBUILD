# Contributor: Fabian Affolter <fabian@affolter-engineering.ch>
# Maintainer: Fabian Affolter <fabian@affolter-engineering.ch>
pkgname=py3-rabbit
_pyname=pyrabbit
pkgver=1.1.0
pkgrel=0
pkgdesc="A Pythonic interface to the RabbitMQ Management HTTP API"
url="https://github.com/bkjones/pyrabbit"
arch="noarch"
license="BSD-3-Clause"
depends="py3-httplib2"
makedepends="py3-setuptools"
_pypiprefix="${_pyname%${_pyname#?}}"
source="https://files.pythonhosted.org/packages/source/$_pypiprefix/$_pyname/$_pyname-$pkgver.tar.gz"
replaces="py-rabbit"
builddir="$srcdir"/$_pyname-$pkgver
provides="py-rabbit=$pkgver-r$pkgrel"

build() {
	python3 setup.py build
}

check() {
	python3 setup.py check
}

package() {
	python3 setup.py install --prefix=/usr --root="$pkgdir"
}

sha512sums="aa18c3ad232840da9b4978e275c05a82ea75212f3c4ee2df68075ac93295d9448a2376656953e7d1d9c9bc6a7e759eef020a8aaef98491a12959a416c31187ad  pyrabbit-1.1.0.tar.gz"
